CREATE USER IF NOT EXISTS SA SALT 'c3e321e13850820c' HASH '7c6d2d65df7521fe88eabe8f1ace948b69213dfd55df2390b872ad483f2d5c21' ADMIN;
CREATE SCHEMA IF NOT EXISTS LIBRARY_SCHEMA AUTHORIZATION SA;
CREATE SEQUENCE LIBRARY_SCHEMA.SYSTEM_SEQUENCE_AD2E5606_7A22_4377_8BE6_D7E10810E23D START WITH 8 BELONGS_TO_TABLE;
CREATE SEQUENCE LIBRARY_SCHEMA.SYSTEM_SEQUENCE_1346EBD2_AE3E_439A_9129_5D6D940F029D START WITH 8 BELONGS_TO_TABLE;
CREATE CACHED TABLE LIBRARY_SCHEMA.LIBRARY_CARD(
    CARD_ID INT DEFAULT (NEXT VALUE FOR LIBRARY_SCHEMA.SYSTEM_SEQUENCE_AD2E5606_7A22_4377_8BE6_D7E10810E23D) NOT NULL NULL_TO_DEFAULT SEQUENCE LIBRARY_SCHEMA.SYSTEM_SEQUENCE_AD2E5606_7A22_4377_8BE6_D7E10810E23D,
    START_DATE TIMESTAMP NOT NULL,
    EXPIRATION_DATE TIMESTAMP NOT NULL
);
ALTER TABLE LIBRARY_SCHEMA.LIBRARY_CARD ADD CONSTRAINT LIBRARY_SCHEMA.CONSTRAINT_2 PRIMARY KEY(CARD_ID);
-- 7 +/- SELECT COUNT(*) FROM LIBRARY_SCHEMA.LIBRARY_CARD;
CREATE CACHED TABLE LIBRARY_SCHEMA.USER(
    USER_ID INT DEFAULT (NEXT VALUE FOR LIBRARY_SCHEMA.SYSTEM_SEQUENCE_1346EBD2_AE3E_439A_9129_5D6D940F029D) NOT NULL NULL_TO_DEFAULT SEQUENCE LIBRARY_SCHEMA.SYSTEM_SEQUENCE_1346EBD2_AE3E_439A_9129_5D6D940F029D,
    FIRSTNAME VARCHAR(255) NOT NULL,
    LASTNAME VARCHAR(255) NOT NULL,
    EMAIL VARCHAR(255),
    CARD_ID INT NOT NULL
);
ALTER TABLE LIBRARY_SCHEMA.USER ADD CONSTRAINT LIBRARY_SCHEMA.CONSTRAINT_4 PRIMARY KEY(USER_ID);
-- 7 +/- SELECT COUNT(*) FROM LIBRARY_SCHEMA.USER;
ALTER TABLE LIBRARY_SCHEMA.USER ADD CONSTRAINT LIBRARY_SCHEMA.FKCARDID FOREIGN KEY(CARD_ID) REFERENCES LIBRARY_SCHEMA.LIBRARY_CARD(CARD_ID) NOCHECK;
